{"ast":null,"code":"import _slicedToArray from\"/Users/ideavanicha/Desktop/StarWars/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/ideavanicha/Desktop/StarWars/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ideavanicha/Desktop/StarWars/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState}from'react';import StarWars from'../images/star_wars.png';import Episodes from'./Episodes';import*as ReactBootStrap from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(props){var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,r;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://swapi.dev/api/films/\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:r=_context.sent;setEpisodes(r.results);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();function filterFilms(){var filteredEpisode=new Array();for(var _i=0,_Object$entries=Object.entries(episodes);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),film=_Object$entries$_i[0],value=_Object$entries$_i[1];// Filter films: Keep only those directed by George Lucas\nif(value.director.toLowerCase()==\"george lucas\"){filteredEpisode.push(value);}}// Sort by episode_id\nfilteredEpisode=filteredEpisode.sort(function(a,b){return a.episode_id-b.episode_id;});return filteredEpisode;}var _useState=useState([]),_useState2=_slicedToArray(_useState,2),episodes=_useState2[0],setEpisodes=_useState2[1];getData();var targetEpisodes=filterFilms();if(episodes.length!=0){return/*#__PURE__*/_jsxs(\"div\",{class:\"main\",style:{height:\"fit-content\"},children:[/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"Main.css\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"mainContainer\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"swTitleDiv\",children:/*#__PURE__*/_jsx(\"img\",{id:\"swTitle\",src:StarWars})}),/*#__PURE__*/_jsx(\"div\",{class:\"epContainer\",children:targetEpisodes.map(function(movies){return/*#__PURE__*/_jsx(Episodes,{ep:movies});})})]})]});}else{return/*#__PURE__*/_jsxs(\"div\",{class:\"main\",children:[/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\",integrity:\"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\",crossorigin:\"anonymous\"}),/*#__PURE__*/_jsx(ReactBootStrap.Spinner,{animation:\"border\",color:\"white\",id:\"spinner\"})]});}};export default Main;","map":{"version":3,"sources":["/Users/ideavanicha/Desktop/StarWars/src/components/Main.js"],"names":["React","useState","StarWars","Episodes","ReactBootStrap","Main","props","getData","fetch","response","json","r","setEpisodes","results","filterFilms","filteredEpisode","Array","Object","entries","episodes","film","value","director","toLowerCase","push","sort","a","b","episode_id","targetEpisodes","length","height","map","movies"],"mappings":"2cAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,QAAP,KAAsB,YAAtB,CACA,MAAO,GAAKC,CAAAA,cAAZ,KAAgC,iBAAhC,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,CAEpB,GAAMC,CAAAA,OAAO,0FAAG,wKACSC,CAAAA,KAAK,CAAC,8BAAD,CADd,QACRC,QADQ,qCAEEA,CAAAA,QAAQ,CAACC,IAAT,EAFF,QAERC,CAFQ,eAGdC,WAAW,CAACD,CAAC,CAACE,OAAH,CAAX,CAHc,sDAAH,kBAAPN,CAAAA,OAAO,0CAAb,CAMA,QAASO,CAAAA,WAAT,EAAuB,CAEnB,GAAIC,CAAAA,eAAe,CAAG,GAAIC,CAAAA,KAAJ,EAAtB,CAEA,6BAA4BC,MAAM,CAACC,OAAP,CAAeC,QAAf,CAA5B,gCAAqD,CAAhD,6DAAOC,IAAP,uBAAaC,KAAb,uBAED;AACA,GAAIA,KAAK,CAACC,QAAN,CAAeC,WAAf,IAAgC,cAApC,CAAmD,CAC/CR,eAAe,CAACS,IAAhB,CAAqBH,KAArB,EACH,CACJ,CACD;AACAN,eAAe,CAAGA,eAAe,CAACU,IAAhB,CAAqB,SAASC,CAAT,CAAYC,CAAZ,CAAc,CACjD,MAAOD,CAAAA,CAAC,CAACE,UAAF,CAAeD,CAAC,CAACC,UAAxB,CACH,CAFiB,CAAlB,CAGA,MAAOb,CAAAA,eAAP,CACH,CAED,cAAgCd,QAAQ,CAAC,EAAD,CAAxC,wCAAOkB,QAAP,eAAiBP,WAAjB,eACAL,OAAO,GACP,GAAIsB,CAAAA,cAAc,CAAGf,WAAW,EAAhC,CAGA,GAAIK,QAAQ,CAACW,MAAT,EAAmB,CAAvB,CAAyB,CACrB,mBACI,aAAK,KAAK,CAAC,MAAX,CAAkB,KAAK,CAAE,CAACC,MAAM,CAAC,aAAR,CAAzB,wBACI,aAAM,GAAG,CAAC,YAAV,CAAuB,IAAI,CAAC,UAA5B,EADJ,cAEI,aAAK,KAAK,CAAC,eAAX,wBACA,YAAK,EAAE,CAAC,YAAR,uBACI,YAAK,EAAE,CAAC,SAAR,CAAkB,GAAG,CAAE7B,QAAvB,EADJ,EADA,cAII,YAAK,KAAK,CAAC,aAAX,UACK2B,cAAc,CAACG,GAAf,CAAoB,SAACC,MAAD,qBACjB,KAAC,QAAD,EAAU,EAAE,CAAEA,MAAd,EADiB,EAApB,CADL,EAJJ,GAFJ,GADJ,CAeH,CAhBD,IAiBK,CACD,mBACI,aAAK,KAAK,CAAC,MAAX,wBACI,aAAM,GAAG,CAAC,YAAV,CAAuB,IAAI,CAAC,yEAA5B,CACA,SAAS,CAAC,yEADV,CAEA,WAAW,CAAC,WAFZ,EADJ,cAKI,KAAC,cAAD,CAAgB,OAAhB,EAAwB,SAAS,CAAC,QAAlC,CAA4C,KAAK,CAAC,OAAlD,CAA0D,EAAE,CAAC,SAA7D,EALJ,GADJ,CAUH,CAIJ,CA/DD,CAkEA,cAAe5B,CAAAA,IAAf","sourcesContent":["import React, { useState } from 'react';\nimport StarWars from '../images/star_wars.png';\nimport Episodes  from './Episodes';\nimport * as ReactBootStrap from 'react-bootstrap';\n\nconst Main = (props) => {\n\n    const getData = async () => {\n      const response = await fetch(\"https://swapi.dev/api/films/\") //Fetching fillm data from api\n      const r = await response.json();\n      setEpisodes(r.results);\n    }\n\n    function filterFilms() {\n\n        let filteredEpisode = new Array();\n\n        for (const [film, value] of Object.entries(episodes)){\n\n            // Filter films: Keep only those directed by George Lucas\n            if (value.director.toLowerCase() == \"george lucas\"){\n                filteredEpisode.push(value)\n            }\n        }\n        // Sort by episode_id\n        filteredEpisode = filteredEpisode.sort(function(a, b){\n            return a.episode_id - b.episode_id;\n        })\n        return filteredEpisode;\n    } \n\n    const [episodes, setEpisodes] = useState([]);\n    getData();\n    let targetEpisodes = filterFilms();\n\n\n    if (episodes.length != 0){\n        return (\n            <div class=\"main\" style={{height:\"fit-content\"}}>\n                <link rel=\"stylesheet\" href=\"Main.css\"/>\n                <div class=\"mainContainer\">\n                <div id=\"swTitleDiv\">\n                    <img id=\"swTitle\" src={StarWars}></img>\n                </div>\n                    <div class=\"epContainer\">\n                        {targetEpisodes.map( (movies) => (\n                            <Episodes ep={movies}></Episodes>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        )\n    } \n    else {\n        return (\n            <div class=\"main\">\n                <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css\"\n                integrity=\"sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC\"\n                crossorigin=\"anonymous\"\n                />\n                <ReactBootStrap.Spinner animation=\"border\"  color=\"white\" id=\"spinner\"/>\n\n            </div>\n        )\n    }\n\n\n    \n}\n\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}